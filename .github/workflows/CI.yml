# .github/workflows/CI.yml
name: CI

on:
  push:
    branches: [master]
    tags: ['*']
  pull_request:

jobs:
  test:
    name: CI
    runs-on: ${{ matrix.os }}
    strategy:
      matrix:
        version: ['1.10', '1']
        os: [ubuntu-latest]
    steps:
      - uses: actions/checkout@v4
      - uses: julia-actions/setup-julia@v2
        with:
          version: ${{ matrix.version }}
      - uses: julia-actions/cache@v2
      - uses: julia-actions/julia-buildpkg@v1
      - uses: julia-actions/julia-runtest@v1
      
  # Optional: Test Python build can extract version
# .github/workflows/CI.yml
  test-python-version:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-python@v5
        with:
          python-version: '3.11'
      - name: Install dependencies
        run: |
          pip install numpy
      - name: Verify version extraction
        run: |
          cd python
          python -c "from chen._version import __version__; print(f'Extracted version: {__version__}')"